<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <title>
      help/howtos/common/first_trunk – Freetz
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/search" />
        <link rel="help" href="../../../TracGuide.html" />
        <link rel="alternate" href="first_trunk%3Fformat=txt" type="text/x-trac-wiki" title="Reiner Text" />
        <link rel="up" href="../common.html" title="Übergeordnete Wiki-Seite anzeigen" />
        <link rel="start" href="/wiki" />
        <link rel="stylesheet" href="../../../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/phrases.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/boxes.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/boxes-300.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikiextras/css/boxes-narrow-toc.css" type="text/css" /><link rel="stylesheet" href="../../../../wikicss.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/tags/css/tractags.css" type="text/css" /><link rel="stylesheet" href="../../../../chrome/wikinegotiator/css/langmenu-ctxnav.css" type="text/css" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Freetz durchsuchen" />
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/messages/de.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../../../../chrome/common/js/folding.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="/wiki"><img src="../../../../chrome/common/freetz_motd.png" alt="Freetz" /></a>
      </div>
      <form id="search" action="https://www.google.com/search" method="get" onsubmit="; this.elements.namedItem('q').value = this.elements.namedItem('oq').value + ' site:freetz.github.io'">
        <div>
          <label for="proj-search">Suche:</label>
          <input type="text" id="proj-search" name="oq" size="18" value="" />
          <input type="hidden" name="q" value="" />
          <input type="submit" value="Suche" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><li class="last"><a href="../../../Impressum.html">Impressum</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/wiki">Wiki</a></li><li><a href="https://github.com/Freetz/freetz/commits/master">Quellen durchsehen</a></li><li class="last"><a href="/screenshots">Bildschirmfotos</a></li>
    </ul>
  </div>
    <div id="langmenu"><ul><li class="first"><span title="Select a language of wiki content">Language:</span></li><li class=" active"><a class="" href="first_trunk.html" title="displaying language (default)">German</a></li><li class=" last"><a class=" notexist" href="/wiki/help/howtos/common/first_trunk.en" title="(not available)">English</a></li></ul></div><p /><div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="Zeige WikiStart an" href="/wiki">Wiki:</a><a class="pathentry" href="../../../help.html" title="Zeige help an">help</a><span class="pathentry sep">/</span><a class="pathentry" href="../../howtos.html" title="Zeige help/howtos an">howtos</a><span class="pathentry sep">/</span><a class="pathentry" href="../common.html" title="Zeige help/howtos/common an">common</a><span class="pathentry sep">/</span><a class="pathentry" href="first_trunk.html" title="Zeige help/howtos/common/first_trunk an">first_trunk</a>
</div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">

          <div id="wikipage" class="trac-content"><h1 id="Wiebaueichmeinenerstentrunk">Wie baue ich meinen ersten trunk ?</h1>
<p>
<h4>Inhaltsverzeichnis</h4>
    <ol>
      <li>
        <a href="first_trunk.html#BeschreibungfüreinTrunk-Imageinkl.SambaundVSFTP">Beschreibung für ein Trunk-Image inkl. Samba und VSFTP</a>
      </li>
      <li>
        <a href="first_trunk.html#Trunk-Imagebauen">Trunk-Image bauen</a>
        <ol>
          <li>
            <a href="first_trunk.html#Sambaeinrichten">Samba einrichten</a>
          </li>
          <li>
            <a href="first_trunk.html#FTP-FreigabeneinrichtenFreetz-Trunk">FTP-Freigaben einrichten (Freetz-Trunk)</a>
          </li>
          <li>
            <a href="first_trunk.html#EinrichtenvonBenutzern">Einrichten von Benutzern</a>
          </li>
          <li>
            <a href="first_trunk.html#RechtevergabefürFTP-User">Rechtevergabe für FTP-User</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="first_trunk.html#ImagefüreinenSpeedportbauen">Image für einen Speedport bauen</a>
        <ol>
          <li>
            <a href="first_trunk.html#WelcheSpeedportslassensichmitFreetzmodifizieren">Welche Speedports lassen sich mit Freetz modifizieren?</a>
          </li>
          <li>
            <a href="first_trunk.html#UmbaueinesW701V">Umbau eines W701V</a>
          </li>
          <li>
            <a href="first_trunk.html#UmbaueinesW501V">Umbau eines W501V</a>
          </li>
          <li>
            <a href="first_trunk.html#UmbaueinesW920V">Umbau eines W920V</a>
          </li>
        </ol>
      </li>
    </ol>
<br />
</p>
<h2 id="BeschreibungfüreinTrunk-Imageinkl.SambaundVSFTP">Beschreibung für ein Trunk-Image inkl. Samba und VSFTP</h2>
<p>
Diese Anweisung ist für alle die geschrieben die zum ersten Mal Ihre Fritzbox mit einem FREETZ-Trunk (Entwickler-Version) modifizieren wollen.<br />
</p>
<h2 id="Trunk-Imagebauen">Trunk-Image bauen</h2>
<p>
Das Vorgehen um ein Trunk-Image zu bauen stimmt bis zum Punkt <strong>Freetz Sourcen auschecken</strong> mit den Schritten aus dem <a class="wiki" href="newbie.html">Newbie-Tutorial</a> überein. Deshalb steigt diese Anleitung erst an dieser Stelle ein. Falls ihr euch unsicher seid, dann geht das Tutorial nochmal bis zu <a class="wiki" href="newbie.html#FreetzSourcenauschecken">dieser Stelle</a> durch.
</p>
<p>
Der Befehl zum Auschecken sieht nun etwas anders aus. Folgender Befehl ist jetzt einzugeben: <br />
</p>
<pre class="wiki">svn checkout http://svn.freetz.org/trunk freetz-trunk
</pre><p>
<br />
Sollte dies nicht starten, so kann es sein das die Netzwerkverbindung nicht funktioniert. In diesem Fall sollte ein <strong>ping 192.168.XXX.1</strong> über die Konsole Aufschluss geben, ob die Netzwerkverbindung funktioniert. Nun sollten die Freetz Quellen runtergeladen werden. Danach wechselt man in das Freetz Verzeichnis mit <strong>cd freetz-trunk</strong> und gibt dann ein <strong>make menuconfig</strong> ein. <br />
<figure><img src="/screenshots/72.png" alt="auschecken von Freetz" /><figcaption>auschecken von Freetz</figcaption></figure>
Nach dieser Eingabe solltet Ihr folgendes Bild sehen: <br />
<figure><img src="/screenshots/73.png" alt="menuconfig" /><figcaption>menuconfig</figcaption></figure>
Dies ist wieder die Konfigurations-Oberfläche des Freetz-Buildsystems. Dort wählt ihr den jeweiligen Router und die gewünschten Pakete aus. Für dieses HowTo haben wir beispielhaft die 7270_v2 gewählt. Als erstes aktivieren wir die erweiterte Ansicht (<strong>Level of user competence</strong>&rarr;<strong>Advanced</strong>)  auf der ersten Seite. Danach sollten in einem Freetz-Image folgende Patches ausgewählt werden: <br />
<strong>Unter Firmware language:</strong><br />
</p>
<ul><li>Auswählen ob ihr eine Firmware de oder en Firmware erstellen wollt. (Achtung: Die Auswahl muss zur vorhandenen Box passen.)
</li></ul><p>
<strong>Unter Other patches:</strong><br />
</p>
<ul><li><strong>FREETZMOUNT</strong>
</li><li><strong>Automount Filesystems</strong>
<ul><li><strong>NTFS</strong>
</li></ul></li></ul><p>
<strong>Unter Removal patches</strong><br />
</p>
<ul><li><strong>Remove ftpd (NEW)</strong> (ein FTP-Programm auf der Box reicht)
</li></ul><p>
<figure><img src="/screenshots/187.png" alt="Patches" /><figcaption>Patches</figcaption></figure>
<strong>Unter Packages/Standard packages:</strong><br />
</p>
<ul><li><strong>Samba suite</strong> (Server der den Zugriff auf die USB Medien an der FB von Windows erlaubt). Die Haken bei den beiden Unterpunkten von Samba smbd und nmbd müssen gesetzt werden.
</li><li><strong>VSFTP</strong> (FTP-Server). Hier bitte keine weiteren Haken bei den Unterpunkten setzen. <br />
</li></ul><p>
<figure><img src="/screenshots/186.png" alt="Patch : SAMB und VSFTP" /><figcaption>Patch : SAMB und VSFTP</figcaption></figure>
<strong>Unter Packages/ Web interfaces:</strong><br />
</p>
<ul><li><strong>AVM-firewall</strong> (Web-Oberfläche zum Administrieren der von AVM dem User vorenthaltene integrierten Firewall)
</li><li><strong>spindown-cgi 0.2</strong>
</li><li><strong>Syslogd CGI 0.2.3</strong>
</li></ul><p>
<figure><img src="/screenshots/185.png" alt="Patche : Web interfaces" /><figcaption>Patche : Web interfaces</figcaption></figure>
<strong>Unter Web Interface:</strong> <br />
</p>
<ul><li><strong>Favicons (none) &mdash;&rarr;</strong> einen Favicon auswählen. (Das ist das Bild was als Lesezeichen im Browser angezeigt wird)
</li></ul><p>
<figure><img src="/screenshots/188.png" alt="Patch : Advanced options" /><figcaption>Patch : Advanced options</figcaption></figure>
<figure><img src="/screenshots/228.png" alt="" /><figcaption></figcaption></figure>
Weitere Pakete und Patches incl. der Beschreibungen findet ihr auf der <a class="wiki" href="../../../packages.html">Paketseite</a> <br />
<br />
Nachdem alle Pakete und Patches ausgewählt sind, beendet man die Konfiguration und gibt auf der Kommandozeile der Shell Konsole <strong>make</strong> ein. Nun solltet ihr ein solches Bild sehen: <br />
<figure><img src="/screenshots/189.png" alt="make ausführen" /><figcaption>make ausführen</figcaption></figure>
Nun startet wieder der Erstellungsvorgang. Der Ablauf ist identisch zum ersten Image. Das erstellte Image wird wiederum im Unterordner <strong>images</strong> des Freetz Verzeichnisses abgelegt. <br />
<br />
Die Abschlussmeldung sieht wie folgt aus:
<figure><img src="/screenshots/190.png" alt="make ist fertig " /><figcaption>make ist fertig </figcaption></figure>
<br />
<br />
Die Schritte <strong>Image auf den PC kopieren</strong> und Flash-Vorgang sind wieder identisch zum <a class="wiki" href="newbie.html">Newbie-Tutorial</a>.
</p>
<h3 id="Sambaeinrichten">Samba einrichten</h3>
<p>
Samba muß zunächst eingerichtet werden. Hierfür geht man auf <strong>Pakete/Samba</strong>. Starttyp auf <strong>automatisch</strong> stellen und Netbios Name vergeben. Wichtig ist der Haken bei <strong>Bevorzugter Master</strong>, weil er den Standard Samba-Server der FritzBox ersetzt.
<figure><img src="/screenshots/192.jpg" alt="Freetz-WebIF" /><figcaption>Freetz-WebIF</figcaption></figure>
<br />
Den Rest kann man so lassen und klickt auf <strong>Samba Freigaben</strong>.
<figure><img src="/screenshots/193.jpg" alt="Freetz-WebIF" /><figcaption>Freetz-WebIF</figcaption></figure>
Wir haben hier nun 2 Freigaben auf der USB-HDD der FB beispielhaft erstellt, ein für <strong>Gast</strong> und die zweite für <strong>Familie</strong>. Hier eine kurze Beschreibung der Parameter anhand der ersten Freigabe: <br />
</p>
<blockquote>
<p>
<strong>/var/media/ftp/uStor01</strong> dies ist der interner Pfad auf die Festplatte <br />
<strong>/Videos</strong> das ist das Freigegebenes Verzeichnis <br />
<strong>hdd1</strong> Name der Freigabe der in der Windows-Netzwerkumgebung als Freigabe angezeigt wird. <br />
<strong>1</strong> Gast-Zugang erlaubt, kein Benutzername und Passwort nötig <br />
<strong>0</strong> Schreib-Lesezugriff aktiviert <br />
<strong>-</strong> Grund für das - ????? (Muß rein, Begründung folgt !) <br />
<strong>Videos</strong> Kommentar<br />
</p>
</blockquote>
<p>
<strong>Beispiel:</strong>
</p>
<pre class="wiki">/var/media/ftp/uStor01/Videos hdd1 1 0 - Videos
</pre><p>
Da wir als Netbiosname <strong>fritz</strong> vergeben hatte, lautet der Zugriff von Windows auf die Freigabe <br />fritz\hdd1 . <br />
Jetzt noch unter <strong>Dienste</strong> den Samba Server starten und dann sollte es funktionieren.
<br />
<br />
</p>
<h3 id="FTP-FreigabeneinrichtenFreetz-Trunk">FTP-Freigaben einrichten (Freetz-Trunk)</h3>
<p>
<strong>Achtung! Diese Beschreibung beruht auf einem Trunk-Image. FTP-Freigaben für Freetz-1.1.x-Images werden später erklärt</strong> <br />
<br />
Als erstes muss eine Order-Struktur auf der USB-Platte erzeugt werden. Dazu einfach euren USB-Stick oder Festplatte im Fat32 formatieren (NTFS würde auch gehen wird hier aber nicht näher beschrieben). <br />
Eure Platte sollte dann wie folgt aussehen :
<figure><img src="/screenshots/81.jpg" alt="" /><figcaption></figcaption></figure>
Wenn das der Fall sein sollte könnt ihr den Stick (wir gehen im weiteren Verlauf dieser Beschreibung von einem Stick aus) an eure FritzBox stecken. <br />
Nun wird, wenn noch nicht unter der Samba-Einrichtung erfolgt, die AVM-Lösungen von FTP abgeschaltet: <br />
</p>
<ul><li>fritz.box &rarr; Einstellungen &rarr; Erweiterte Einstellungen &rarr; USB-Geräte &rarr; USB-Speicher(Speicher(NAS) <br />
</li><li>USB-Speicher FTP-Zugriff aktivieren &rarr; Häkchen weg <br />
</li><li>USB-Netzwerkspeicher aktivieren &rarr; Häkchen weg <br />
</li></ul><p>
Das sollte nun so aussehen:
<figure><img src="/screenshots/82.jpg" alt="" /><figcaption></figcaption></figure>
Nun wechseln wir ins Freetz-Interface: <a class="ext-link" href="http://fritz.box:81/"><span class="icon">​</span>http://fritz.box:81/</a> und geben dort unter : &mdash;&gt; Dienste &mdash;&gt; vsftp folgende Sachen ein: <br />
</p>
<ul><li>Starttyp : Automatisch <br />
</li><li>Zugriff : Haken setzen bei <strong>Lokale Benutzer</strong> und <strong>chroot jail</strong> (alle anderen Haken raus) <br />
</li><li>Zusätzliche Konfigurationsoptionen (für Experten) : <strong>user_config_dir=/var/media/ftp/uStor01/vsftp_user_conf</strong> <br />
</li><li>Logging : <strong>/var/media/ftp/uStor01/vsftpd.log</strong> (kann man aktivieren, muß man aber nicht). <br />
</li></ul><p>
<br />
Die ganzen Eingaben sollten nun mit dem Drücken des Button <strong>Übernehmen</strong> übernommen werden. Das sollte dann wie folgt aussehen:
<figure><img src="/screenshots/194.jpg" alt="Freetz-WebIF" /><figcaption>Freetz-WebIF</figcaption></figure>
<figure><img src="/screenshots/84.jpg" alt="" /><figcaption></figcaption></figure>
Nun wenden wir uns der AVM-Firewall zu:
</p>
<ul><li>[&mdash;&gt;Pakete &mdash;&gt; AVM-Firewall und dort den Pkt. Forwarding). Hier muß noch der FTP-Port freigegeben werden (siehe Bilder).
</li></ul><p>
<figure><img src="/screenshots/85.jpg" alt="" /><figcaption></figcaption></figure>
Nach eingabe der Zahlen (siehe Oben) einfach auf <strong>Hinzufügen</strong> drücken und das Ergenbins sollte wie Folgt aussehen:
<figure><img src="/screenshots/86.jpg" alt="" /><figcaption></figcaption></figure>
Um diese Einstellung nun endgültig zu speichern einfach den Haken (Blinkendes Kästchen) setzen und den Reeboot der Box abwarten. <br />
Nachdem die Box nun wieder gestartet ist öffnen wir nochmals in der Freetz-Weboberfläche den Reiter <strong>Dienste</strong> und aktivieren den Dienst <strong>telnetd</strong>. Dieser muß gestartet sein um im nächsten Schritt dieser Anweisung die FTP-User einrichten zu können. Es wird nicht empfohlen diesen Dienst auf automatisch zu setzen sondern ihn bei Bedarf manuell zu starten. <br />
<br />
Nun verlassen wir für's erste die Web-Oberfläche und nähern uns der Kommandozeilenebene der FritzBox ! Dazu benötigen wir als erstes das Programm <a class="ext-link" href="http://putty.softonic.de/"><span class="icon">​</span>Putty</a> welches wir uns aus dem Netz laden und auf dem PC installieren. Dieser Schritt ist nur für Windows-User nötig. Linux-User können eine Telnet-Sitzung wie gewohnt starten. <br />
Putty kann man hier als Freeware laden :<a class="ext-link" href="http://putty.softonic.de/"><span class="icon">​</span>Download</a> und wird wie folgt eingestellt:
<figure><img src="/screenshots/87.jpg" alt="" /><figcaption></figcaption></figure>
Nach drücken von <strong>Open</strong> und Eingabe folgender Daten <strong>login:root</strong> und <strong>Password:freetz</strong> solltet ihr folgendes Bild sehen:
<figure><img src="/screenshots/88.jpg" alt="" /><figcaption></figcaption></figure>
<br />
<br />
</p>
<h3 id="EinrichtenvonBenutzern">Einrichten von Benutzern</h3>
<p>
Der Befehl ist wie folgt aufgebaut: <tt>adduser -h '''Verzeichnis''' '''Benutzername'''</tt><br />
</p>
<blockquote>
<p>
<strong>Verzeichnis</strong>: Ordner auf dem Stick, der dem Benutzer zugeordnet werden soll, z.B. <strong>/var/media/ftp/uStor01/</strong> <br />
<strong>Benutzername</strong>: Name des Benutzers <br />
</p>
</blockquote>
<p>
Beim Erstellen des Benutzers wird danach gleich das Passwort abgefragt. Dieses muss zweimal eingegeben werden, und es wird dabei nichts am Bildschirm angezeigt, auch keine Sterne. <br />
Erzeugen wollen wir nun einen User <strong>Paul</strong> und eine Userin <strong>Mary</strong> welche auf die Ordner <strong>hdd1</strong>(Paul) und <strong>hdd2</strong>(Mary) (siehe Samba) FTP-Zugriff erhalten sollen. Weiterhin wird hier ein User <strong>Gast</strong> mit nur Leserechten auf dem Ordner <strong>hdd1</strong> erzeugt. <br />
Hierzu werden nun folgende Befehle in Putty eingegeben (Bitte auf Groß und Kleinschreibung achten):
</p>
<pre class="wiki">/var/mod/root # adduser -h /var/media/ftp/uStor01/hdd1 paul
adduser: /var/media/ftp/uStor01/hdd1: Operation not permitted
Changing password for paul
New password:
Bad password: too short
Retype password:
Password for paul changed by root
</pre><p>
Die Meldung <tt>Operation not permitted</tt> kommt, wenn es sich um ein Dateisystem mit FAT oder NTFS handelt.<br />
Das selbe machen wir nun nochmals für Marry und Gast:
</p>
<pre class="wiki">  adduser -h /var/media/ftp/uStor01/hdd2 mary
  adduser -h /var/media/ftp/uStor01/hdd1 gast
</pre><p>
Wenn man das Paßwort ändern will, verwendet man dazu den Befehl <tt>passwd </tt><strong><tt>Benutzername</tt></strong>. Man wird dann wieder zweimal nach dem neuen Paßwort gefragt.<br />
Einen Benutzer löschen kann man mit dem Befehl <tt>deluser </tt><strong><tt>Benutzername</tt></strong>.<br />
In jedem Fall müssen die Änderungen mit dem Befehl <strong>modsave all</strong> wieder gespeichert werden.<br />
Anzeigen kann man die Datei mit dem Befehl <strong>cat /var/tmp/passwd</strong>. <br />
Anzeigen und Ändern ist auch möglich über die <a class="wiki" href="../../../packages/rudi-shell.html">Rudi-Shell</a> von Freetz. Diese ist nur verfügbar, wenn die <a class="wiki" href="../../../FAQ.html#KonfigurationinderaktuellenSicherheitsstufenichtverf%C3%BCgbar">Sicherheitsstufe</a> auf 0 gesetzt ist.<br />
Wenn alles Richtig gelaufen ist, sollte folgendes in der passwd stehen:
</p>
<pre class="wiki">root:x:0:0:root:/mod/root:/bin/sh
ftp:x:2:1:FTP account:/home/ftp:/bin/sh
ftpuser:x:1:1:ftp user:/var/media/ftp:/bin/sh
paul:x:1000:1000:Linux User,,,:/var/media/ftp/uStor01/hdd1:/bin/sh
mary:x:1001:1001:Linux User,,,:/var/media/ftp/uStor01/hdd2:/bin/sh
gast:x:1002:1002:Linux User,,,:/var/media/ftp/uStor01/hdd1:/bin/sh
</pre><p>
Nun melden wir uns noch mit folgendem Befehl von der Putty Konsole ab:<br />
</p>
<pre class="wiki">exit
</pre><p>
<br />
<br />
</p>
<h3 id="RechtevergabefürFTP-User">Rechtevergabe für FTP-User</h3>
<blockquote>
<p>
Ob ein Neuer FTP-User Schreibrechte erhalten soll oder nur lesen können soll wird wie folgt geregelt: <br /> Jeder Benutzer erhält eine Datei mit seinem Dateinamen im Ordner <strong>/var/media/ftp/uStor01/vsftp_user_conf/</strong>, die festlegt, ob er Schreibrechte hat oder nicht. <br />
</p>
</blockquote>
<p>
Inhalt der Datei :
</p>
<blockquote>
<p>
<strong>write_enable=yes</strong>(User hat Schreibrechte / siehe Paul und Mary)<br />
<strong>write_enable=no</strong>(User hat  <strong>keine</strong> Schreibrechte / siehe Gast)
</p>
</blockquote>
<p>
Über diese Benutzerdateien ist es auch möglich einzelne FTP-Befehle (<a class="ext-link" href="http://en.wikipedia.org/wiki/List_of_FTP_commands"><span class="icon">​</span>Liste</a>) für Benutzer zu verbieten. Hierzu fügt man folgende Zeile in die Datei ein und entfernt die Befehle die der User nicht ausführen darf:
</p>
<pre class="wiki">
cmds_allowed=ABOR,ACCT,ALLO,APPE,AUTH,CDUP,CWD,DELE,EPRT,EPSV,FEAT,HELP,LIST,MDTM,MKD,MODE,NLST,NOOP,OPTS,PASS,PASV,PBSZ,PORT,PROT,PWD,QUIT,REIN,REST,RETR,RMD,RNFR,RNTO,SITE,SMNT,STAT,STOR,STOU,STRU,SYST,TYPE,USER

</pre><p>
<strong>Beispiel:</strong> Mary darf Dateien auf den FTP kopieren und Verzeichnisse anlegen, jedoch diese nicht wieder löschen. Also muß folgendes in der Datei stehen:
</p>
<pre class="wiki">
cmds_allowed=ABOR,ACCT,ALLO,APPE,AUTH,CDUP,CWD,EPRT,EPSV,FEAT,HELP,LIST,MDTM,MKD,MODE,NLST,NOOP,OPTS,PASS,PASV,PBSZ,PORT,PROT,PWD,QUIT,REIN,REST,RETR,RNFR,RNTO,SITE,SMNT,STAT,STOR,STOU,STRU,SYST,TYPE,USER

</pre><blockquote>
<p>
<strong>DELE</strong> (Delete file), <strong>RMD</strong> (Remove a directory) wurden aus dem oben angegebenen String gelöscht. <br /> <br /> <br /> Sollte etwas immer noch nicht gehen, dann den Router einfach nochmal neu starten.
</p>
</blockquote>
<p>
<br />
<br />
</p>
<h2 id="ImagefüreinenSpeedportbauen">Image für einen Speedport bauen</h2>
<p>
Speedports lassen sich aufgrund einer Software-Sperre leider nicht per AVM-Webinterface flashen. Nutze die Freetz-Tools recover-eva oder push_firmware oder die GUI-Programme aus dem Forum wie z.B das <a class="ext-link" href="http://rukerneltool.rainerullrich.de/index.html"><span class="icon">​</span>ruKernelTool</a>. Dieses funktioniert sehr gut und ist einfach in der Bedienung.
</p>
<h3 id="WelcheSpeedportslassensichmitFreetzmodifizieren">Welche Speedports lassen sich mit Freetz modifizieren?</h3>
<ul><li><a class="wiki" href="first_trunk.html#UmbaueinesW501V">W501V </a>
</li><li><a class="wiki" href="first_trunk.html#UmbaueinesW701V">W701V </a>
</li><li><a class="wiki" href="first_trunk.html#UmbaueinesW701V">W900V </a>
</li><li><a class="wiki" href="first_trunk.html#UmbaueinesW920V">W920V </a>
</li></ul><h3 id="UmbaueinesW701V">Umbau eines W701V</h3>
<p>
1.) Freetz-Linux wie es oben beschrieben ist starten<br />
2.) Wir arbeiten alle Schritte ab wie im <a href="first_trunk.html">HowTo</a> beschrieben, jedoch bei Boxtyp
wählen wir die 7170 und stellen unter Alien hardware type den W701V aus.<br />
<figure><img src="/screenshots/196.png" alt="Speedport_Trunk_2" /><figcaption>Speedport_Trunk_2</figcaption></figure>
<figure><img src="/screenshots/197.png" alt="Speedport_Trunk_3" /><figcaption>Speedport_Trunk_3</figcaption></figure>
</p>
<p>
3.) Samba und VSFTP bringen nur was bei einem W920V (7570), da dieser einen USB-Port hat. Alle anderen Schritte in dem <a href="first_trunk.html">HowTo</a> passen jedoch auch bei einem Speedport.<br />
<br />
4.) Das erstellte Image sollte sich als normales FW-Update in die Box laden lassen. Sollte die Box den Update verweigern (war bei meinem W701V der Fall) bleibt Euch nur der Weg über das <a class="ext-link" href="http://rukerneltool.rainerullrich.de/index.html"><span class="icon">​</span>ruKernelTool</a>. Dann sind jedoch alle Zugangsdaten sowie alle Einstellungen verloren. Die Box macht in diesem Fall quasi einen Werksreset. <br />
<br />
<strong>Ergebnis:</strong>
<br />
<figure><img src="/screenshots/195.png" alt="Speedport_Trunk_1" /><figcaption>Speedport_Trunk_1</figcaption></figure>
</p>
<h3 id="UmbaueinesW501V">Umbau eines W501V</h3>
<p>
Der W501V läßt sich direkt als Boxtyp auswählen
</p>
<h3 id="UmbaueinesW920V">Umbau eines W920V</h3>
<p>
Boxtyp: 7570 VDSL <br />
Alientyp:  W920V
</p>
<p>
<figure><img src="/screenshots/198.png" alt="Speedport_Trunk_4" /><figcaption>Speedport_Trunk_4</figcaption></figure>
</p>
</div>

      </div><ul class="tags"><li class="header">Tags</li><li><a href="/tags/howtos" rel="tag">howtos</a> </li></ul>

    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/chrome/screenshots/css/screenshots.css", "text/css");
    </script>
    </div>
  </body>
</html>
